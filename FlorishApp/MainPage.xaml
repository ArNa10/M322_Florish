<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:FlorishApp"
             x:Class="FlorishApp.MainPage"
             BackgroundColor="White"
             Shell.NavBarIsVisible="False">

    <VerticalStackLayout Spacing="0">

        <!-- HEADER -->
        <VerticalStackLayout
            BackgroundColor="{StaticResource PrimaryGreen}"
            Padding="20"
            Spacing="10">

            <!-- Logo + Titel -->
            <Grid
                BackgroundColor="{StaticResource PrimaryGreen}"
                Padding="20"
                ColumnDefinitions="*,Auto"
                VerticalOptions="Start">

                <!-- LINKS: Logo + Titel -->
                <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                    <Image
                        Source="logo.png"
                        WidthRequest="80"
                        HeightRequest="80"/>

                    <Label
                        Text="Florish"
                        FontSize="28"
                        FontAttributes="Bold"
                        TextColor="White"
                        VerticalOptions="Center"/>
                </HorizontalStackLayout>

                <!-- RECHTS: Hilfe-Icon -->
                <ImageButton
                    Grid.Column="1"
                    Source="help.png"
                    WidthRequest="150"
                    HeightRequest="150"
                    BackgroundColor="Transparent"
                    Clicked="OnHelpClicked"/>
            </Grid>

            <!-- Button unter Logo -->
            <Button
                Text="Pflanze hinzufügen"
                HorizontalOptions="Start"
                BackgroundColor="White"
                TextColor="{StaticResource PrimaryGreen}" 
                Clicked="OnAddPlantClicked"/>
        </VerticalStackLayout>

        <!-- CONTENT -->
        <VerticalStackLayout Padding="20" VerticalOptions="FillAndExpand">
            <CollectionView x:Name="PlantsCollection"
                            SelectionMode="Single"
                            SelectionChanged="OnPlantSelected"
                            VerticalOptions="FillAndExpand"
                            BackgroundColor="White">

                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame
                            BackgroundColor="#F5F5F5"
                            BorderColor="#358856"
                            CornerRadius="12"
                            Padding="12"
                            Margin="0,0,0,10">

                            <VerticalStackLayout>
                                <Label
                                    Text="{Binding Name}"
                                    FontAttributes="Bold"
                                    FontSize="18"
                                    TextColor="Black"/>

                                <Label
                                    Text="{Binding Art}"
                                    TextColor="Black"/>

                                <Label
                                    Text="{Binding WasserIntervall, StringFormat='Gießen alle {0} Tage'}"
                                    TextColor="Gray"/>
                            </VerticalStackLayout>

                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </VerticalStackLayout>
    </VerticalStackLayout>
</ContentPage>
